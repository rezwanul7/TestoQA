"use strict";exports.id=130,exports.ids=[130],exports.modules={13785:(e,t,a)=>{a.d(t,{$:()=>i});var s=a(60687),r=a(49384);function i({children:e,className:t,...a}){return(0,s.jsx)("button",{...a,className:(0,r.A)("flex h-10 items-center rounded-lg bg-black hover:bg-gray-700 px-4 text-sm font-medium text-white transition-colors  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 aria-disabled:cursor-not-allowed aria-disabled:opacity-50",t),children:e})}},22670:(e,t,a)=>{a.r(t),a.d(t,{"0062df840bfce99431ea87299ab7876daa29f3e59a":()=>s.x});var s=a(30567)},50832:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(60687);a(43210);let r=({label:e,name:t,defaultValue:a,placeholder:r,errors:i=[]})=>{let n=`${t}-error`;return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:t,className:"mb-2 block text-sm font-medium",children:e}),(0,s.jsx)("div",{className:"relative mt-2 rounded-md",children:(0,s.jsx)("input",{id:t,name:t,type:"text",defaultValue:a,placeholder:r,className:"peer block w-full rounded-md border border-gray-200 py-2 pl-3 text-sm outline-2 placeholder:text-gray-500","aria-describedby":n})}),i.length>0&&(0,s.jsx)("div",{id:n,"aria-live":"polite","aria-atomic":"true",children:i.map(e=>(0,s.jsx)("p",{className:"mt-2 text-sm text-red-500",children:e},e))})]})}},70501:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(60687);a(43210);let r=({label:e,name:t,defaultValue:a,placeholder:r="Select an option",options:i,errors:n=[],icon:d})=>{let l=`${t}-error`;return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:t,className:"mb-2 block text-sm font-medium",children:e}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{id:t,name:t,defaultValue:a,className:"peer block w-full cursor-pointer rounded-md border border-gray-200 py-2 pl-10 text-sm outline-2 placeholder:text-gray-500","aria-describedby":l,children:[(0,s.jsx)("option",{value:"",disabled:!0,children:r}),i.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),d&&(0,s.jsx)("span",{className:"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500",children:d})]}),n.length>0&&(0,s.jsx)("div",{id:l,"aria-live":"polite","aria-atomic":"true",children:n.map(e=>(0,s.jsx)("p",{className:"mt-2 text-sm text-red-500",children:e},e))})]})}},72782:(e,t,a)=>{a.r(t),a.d(t,{"006be5bee720b498c5755c012b343297d703a8f0e7":()=>_,"4002d4858d62bbf47c90b32e0173b99e89d7fecf85":()=>$,"40a3819d20f8206d7be99f3a58419fdd116e6930c9":()=>P,"601570dbd301ab9de298f03b0e765aada4304a3076":()=>A,"604b94fb5931c4d28ea521fc1440f6f4785cd2cbbc":()=>z,"60bb3ddee42f7a04f7a44b334c6dc6b4f371b358ee":()=>C,"60c0d155ef4cb1913ce6c7408480756dae40cb0989":()=>N,"7018bb790f26dd4ef27a1ef2bbe5178e8e9c616387":()=>T,"704b0942d5a4df832f6d47f85519ab202eef9ee039":()=>I});var s=a(91199);a(42087);var r=a(94291),i=a(36737),n=a(7944),d=a(90141),l=a(91170),c=a(27314),o=a(34872);async function u(e){let t="testo@teamtesto.com",a=process.env.TEAM_TESTO_ADMIN_PASSWORD,s=a&&""!==a.trim()?a:"teamtesto",r=await o.Ay.hash(s,10);if(e===t)return{id:"admin",name:"TeamTesto",email:t,password:r}}(0,i.A)(process.env.POSTGRES_URL,{ssl:"require"});let{auth:b,signIn:f,signOut:m}=(0,l.Ay)({pages:{signIn:"/login"},callbacks:{authorized({auth:e,request:{nextUrl:t}}){let a=!!e?.user,s=t.pathname,r=s.match(/\.(svg|png|jpg|jpeg|gif|css|js|ico|txt|woff2?|ttf|eot|otf)$/);if(s.startsWith("/_next")||s.startsWith("/favicon")||r)return!0;let i=s.startsWith("/dashboard"),n=s.startsWith("/seed");return i||n?!!a:!a||Response.redirect(new URL("/dashboard",t))}},providers:[],providers:[(0,c.A)({async authorize(e){let t=r.z.object({email:r.z.string().email(),password:r.z.string().min(6)}).safeParse(e);if(t.success){let{email:e,password:a}=t.data,s=await u(e);if(!s)return null;if(await o.Ay.compare(a,s.password))return s}return console.log("Invalid credentials"),null}})]});var h=a(96330);let g=global.prisma||new h.PrismaClient;async function v(e,t,a){return e.testCase.update({where:{id:t},data:{executionStatus:a.toLowerCase()}})}async function p(e){let t=process.env.DEFAULT_EXECUTION_STATUS||"";return e.testCase.updateMany({data:{executionStatus:t.toLowerCase()}})}let x=r.z.object({testSuiteId:r.z.string().optional().nullable(),tcId:r.z.string().min(1,"Test Case ID is required"),name:r.z.string().min(1,"Name is required"),status:r.z.string().min(1,"Status is required"),executionStatus:r.z.string().min(1,"Execution status is required"),meta:r.z.union([r.z.string(),r.z.record(r.z.any())]).optional().transform(e=>{if("string"==typeof e)try{return JSON.parse(e)}catch{return}return e})});var y=a(33331);let w=(0,i.A)(process.env.POSTGRES_URL,{ssl:"require"}),E=r.z.object({id:r.z.string(),customerId:r.z.string({invalid_type_error:"Please select a customer."}),amount:r.z.coerce.number().gt(0,{message:"Please enter an amount greater than $0."}),status:r.z.enum(["pending","paid"],{invalid_type_error:"Please select an invoice status."}),date:r.z.string()}),S=E.omit({id:!0,date:!0}),j=E.omit({date:!0,id:!0});async function A(e,t){let a=S.safeParse({customerId:t.get("customerId"),amount:t.get("amount"),status:t.get("status")});if(!a.success)return{errors:a.error.flatten().fieldErrors,message:"Missing Fields. Failed to Create Invoice."};let{customerId:s,amount:r,status:i}=a.data,l=new Date().toISOString().split("T")[0];try{await w`
            INSERT INTO invoices (customer_id, amount, status, date)
            VALUES (${s}, ${100*r}, ${i}, ${l})
        `}catch(e){return console.log(e),{message:"Database Error: Failed to Create Invoice."}}(0,n.revalidatePath)("/dashboard/invoices"),(0,d.redirect)("/dashboard/invoices")}async function I(e,t,a){let s=j.safeParse({customerId:a.get("customerId"),amount:a.get("amount"),status:a.get("status")});if(!s.success)return{errors:s.error.flatten().fieldErrors,message:"Missing Fields. Failed to Update Invoice."};let{customerId:r,amount:i,status:l}=s.data;try{await w`
            UPDATE invoices
            SET customer_id = ${r},
                amount      = ${100*i},
                status      = ${l}
            WHERE id = ${e}
        `}catch(e){return console.log(e),{message:"Database Error: Failed to Update Invoice."}}(0,n.revalidatePath)("/dashboard/invoices"),(0,d.redirect)("/dashboard/invoices")}async function P(e){await w`DELETE
              FROM invoices
              WHERE id = ${e}`,(0,n.revalidatePath)("/dashboard/invoices")}async function N(e,t){try{await f("credentials",t)}catch(e){if(e instanceof l.lR){if(e instanceof l.xz)return"Invalid credentials.";return"Something went wrong."}throw e}}async function z(e,t){let a=x.safeParse({testSuiteId:t.get("testSuiteId")?.toString()||null,tcId:t.get("tcId"),name:t.get("name"),status:t.get("status"),executionStatus:t.get("executionStatus"),meta:t.get("meta")});if(!a.success)return{errors:a.error.flatten().fieldErrors,message:"Validation failed. Please correct the fields."};let{testSuiteId:s,tcId:r,name:i,status:l,executionStatus:c,meta:o}=a.data;try{await g.testCase.create({data:{testSuiteId:s,tcId:r,name:i,status:l,executionStatus:c,meta:o}})}catch(e){return console.error("Prisma Error:",e),{message:"Database Error: Failed to create test case."}}(0,n.revalidatePath)("/dashboard/test-cases"),(0,d.redirect)("/dashboard/test-cases")}async function T(e,t,a){let s=x.safeParse({testSuiteId:a.get("testSuiteId")?.toString()||null,tcId:a.get("tcId"),name:a.get("name"),status:a.get("status")??"draft",executionStatus:a.get("executionStatus"),meta:a.get("meta")??{}});if(!s.success)return{errors:s.error.flatten().fieldErrors,message:"Validation failed. Please correct the fields."};let{testSuiteId:r,tcId:i,name:l,status:c,executionStatus:o,meta:u}=s.data;try{await g.testCase.update({where:{id:e},data:{testSuiteId:r,tcId:i,name:l,status:c,executionStatus:o,meta:u}})}catch(e){return console.error("Prisma Error:",e),{message:"Database Error: Failed to update test case."}}(0,n.revalidatePath)("/dashboard/test-cases"),(0,d.redirect)("/dashboard/test-cases")}async function $(e){await g.testCase.delete({where:{id:e}}),(0,n.revalidatePath)("/dashboard/testcases")}async function _(){await p(g),(0,n.revalidatePath)("/dashboard/testcases")}async function C(e,t){await v(g,e,t),(0,n.revalidatePath)(`/dashboard/testcases/${e}`)}(0,y.D)([A,I,P,N,z,T,$,_,C]),(0,s.A)(A,"601570dbd301ab9de298f03b0e765aada4304a3076",null),(0,s.A)(I,"704b0942d5a4df832f6d47f85519ab202eef9ee039",null),(0,s.A)(P,"40a3819d20f8206d7be99f3a58419fdd116e6930c9",null),(0,s.A)(N,"60c0d155ef4cb1913ce6c7408480756dae40cb0989",null),(0,s.A)(z,"604b94fb5931c4d28ea521fc1440f6f4785cd2cbbc",null),(0,s.A)(T,"7018bb790f26dd4ef27a1ef2bbe5178e8e9c616387",null),(0,s.A)($,"4002d4858d62bbf47c90b32e0173b99e89d7fecf85",null),(0,s.A)(_,"006be5bee720b498c5755c012b343297d703a8f0e7",null),(0,s.A)(C,"60bb3ddee42f7a04f7a44b334c6dc6b4f371b358ee",null)},83188:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(43210);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},86308:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(37413),r=a(75986),i=a(4536),n=a.n(i),d=a(64964),l=a.n(d);function c({breadcrumbs:e}){return(0,s.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-6 block",children:(0,s.jsx)("ol",{className:(0,r.$)(l().className,"flex text-xl md:text-2xl"),children:e.map((t,a)=>(0,s.jsxs)("li",{"aria-current":t.active,className:(0,r.$)(t.active?"text-gray-900":"text-gray-500"),children:[(0,s.jsx)(n(),{href:t.href,children:t.label}),a<e.length-1?(0,s.jsx)("span",{className:"mx-3 inline-block",children:"/"}):null]},t.href))})})}}};